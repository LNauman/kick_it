<% if @bucket_list %>
<p>
  <strong>Bucket List:</strong>
  <%= @bucket_list.title %>
</p>

<% @bucket_list.adventures.each do |adventure| %>
  <li><%= adventure.adventure_description %>
  <% if adventure.state == "incomplete" %>
  <%= simple_form_for [@bucket_list, adventure] do |f| %>
    
    <%= f.file_field :picture %>

    <%= f.submit 'Finish adventure!' %>

  <% end %>
  <% else %>
  <%= image_tag adventure.picture.url %>
<% end %>

</li><br>
<% end %>
<% end %>

<%= link_to 'Add item', new_bucket_list_adventure_path(@bucket_list) %>

// <script>
//   function handleFileSelect(evt) {
//     var files = evt.target.files; // FileList object

//     // Loop through the FileList and render image files as thumbnails.
//     for (var i = 0, f; f = files[i]; i++) {

//       // Only process image files.
//       if (!f.type.match('image.*')) {
//         continue;
//       }

//       var reader = new FileReader();

//       // Closure to capture the file information.
//       reader.onload = (function(theFile) {
//         return function(e) {
//             $('#image_preview').append('<img src="' + e.target.result + '" class="thumbnail"/>')

//         };
//       })(f);

//       // Read in the image file as a data URL.
//       reader.readAsDataURL(f);
//     }
//   }

//   document.getElementById('adventure_picture').addEventListener('change', handleFileSelect, false);
// </script>

